
# Tests are organized by chapter increments

# Two chapter-9 tests differ in error messages: 1 parse error reported instead of 2.
# And so are commented out.

chapters:
  touch $out
  echo chap8.list  >> $out  #        69
  echo chap9.list  >> $out  # +27 =  96
  echo chap10.list >> $out  # +43 = 139

fullpath.list: @chapters
  cat *.list | grep -v '^$$' | grep -v ^# | sed 's|^|~/other/craftinginterpreters/|' > $out

rules : fullpath.list rules.sh
  ./rules.sh < $in > $out

include rules
